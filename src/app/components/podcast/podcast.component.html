<div class="content" *ngIf="selectedPodcast$ | async; let podcast; else loading">
    <div class="block">
        <div class="block-header block-header-default">
            <h3 class="block-title">{{podcast.title}}</h3>
            <div class="block-options">
                <div class="btn-group" role="group" aria-label="Podcast actions">
                    <a [routerLink]="['/podcasts', podcast.slug, 'edit']" class="btn btn-secondary btn-outline">
                        <i class="icon-pencil" aria-hidden="true"></i> Edit
                    </a>
                    <a (click)="podcastDeleteDialog.show()" class="btn btn-secondary btn-outline-danger">
                        <i class="icon-close" aria-hidden="true"></i> Delete
                    </a>
                </div>
                <div class="btn-group" role="group" aria-label="Podcast actions">
                    <a class="btn btn-secondary btn-outline-warning" [href]="podcast.rssUrl" target="_blank">
                        <i class="text-warning fa fa-rss"></i> Rss Url
                    </a>
                    <a class="btn btn-secondary" (click)="startAddEntry()"><i class="icon-plus"></i> Add</a>
                    <a class="btn btn-secondary" (click)="startUpload()"><i class="icon-cloud-upload"></i> Upload</a>
                </div>
            </div>
        </div>
        <div class="block-content">
            <app-podcast-upload-form *ngIf="uploadMode" [podcast]="podcast" (onUploadComplete)="onEntryUploadComplete($event)">
            </app-podcast-upload-form>
            <app-podcast-add-url-form *ngIf="urlMode" [podcast]="podcast" (onUrlAddComplete)="onUrlAddComplete($event)">
            </app-podcast-add-url-form>
            <table class="table table-hover">
                <tbody>
                    <tr *ngFor="let e of entries$ | async | orderBy : '-id'" app-entry-list-item (entryRemoved)='deleteEntry(e)' [entry]="e">
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal fade" bsModal #podcastDeleteDialog="bs-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title pull-left">Delete this podcast?</h4>
                    <button type="button" class="close pull-right" aria-label="Close" (click)="podcastDeleteDialog.hide()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button type="button" class="btn btn-primary pull-right" (click)="podcastDeleteDialog.hide()">No
                    </button>
                    <button type="button" class="btn btn-danger pull-right" (click)="deletePodcast(podcast); podcastDeleteDialog.hide()">Yes
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #loading>
    <div class="sk-wave" *ngIf="!firstRun">
        <div class="sk-rect sk-rect1"></div>
        <div class="sk-rect sk-rect2"></div>
        <div class="sk-rect sk-rect3"></div>
        <div class="sk-rect sk-rect4"></div>
        <div class="sk-rect sk-rect5"></div>
    </div>
    <div *ngIf="firstRun">
        <div class="row">
            <div class="col-md-4 border border-primary">.col-md-4</div>
            <div class="col-md-4 border border-primary">.col-md-4</div>
            <div class="col-md-4 border border-primary">.col-md-4</div>
        </div>
        <div class="row">
            <div class="col-md-2 border border-primary">.col-md-2</div>
            <div class="col-md-2 border border-primary">.col-md-2</div>
            <div class="col-md-2 border border-primary">.col-md-2</div>
            <div class="col-md-2 border border-primary">.col-md-2</div>
            <div class="col-md-2 border border-primary">.col-md-2</div>
            <div class="col-md-2 border border-primary">.col-md-2</div>
        </div>
        <div class="row">
            <div class="col-md-3 offset-md-3 border border-primary">.col-md-3 .offset-md-3</div>
            <div class="col-md-3 offset-md-3 border border-primary">.col-md-3 .offset-md-3</div>
        </div>
        <div class="row">
            <div class="col-md-6 offset-md-3 border border-primary">.col-md-6 .offset-md-3</div>
        </div>
    </div>
</ng-template>