<div class="podcast-container-wrapper"
     *ngIf="podcasts$ | async as podcast">
    <div class="block"
         *ngIf="selectedPodcast$ | async as selected">
        <div class="block-header block-header-default">
            <h3 class="block-title">{{selected.title}}</h3>
            <div class="block-options">
                <div class="btn-group"
                     role="group"
                     aria-label="Podcast actions">
                    <a [routerLink]="['/podcasts', selected.slug, 'edit']"
                     class="btn btn-secondary btn-outline">
                        <i class="icon icon-pencil"
                           aria-hidden="true"></i> Edit
                    </a>
                    <a (click)="podcastDeleteDialog.show()"
                           class="btn btn-secondary btn-outline-danger">
                        <i class="icon icon-close"
                           aria-hidden="true"></i> Delete
                    </a>
                    <a class="btn btn-secondary"
                       (click)="uploadMode = uploadMode === uploadModes.none ? uploadModes.fromUrl : uploadModes.none;">
                        <i class="icon icon-plus"></i> Add (from URL)</a>
                    <a class="btn btn-secondary"
                       (click)="uploadMode = uploadMode === uploadModes.none ? uploadModes.fromLocalFile : uploadModes.none;">
                        <i class="icon icon-cloud-upload"></i> Upload (from computer)</a>
                </div>
                <div class="btn-group"
                     role="group"
                     aria-label="Podcast actions">
                    <a class="btn btn-secondary btn-outline-warning"
                       [href]="podcast.rssUrl"
                       target="_blank">
                        <i class="text-warning fas fa-rss"></i> Rss Url
                    </a>
                    <button class="btn btn-secondary btn-outline-warning">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="block-content">
            <app-entry-upload *ngIf="uploadMode !== uploadModes.none"
             [uploadMode]="uploadMode"
             [podcast]="selected"
             (podcastUpdated)="podcastUpdated(podcast)">
            </app-entry-upload>
            <app-podcast-detail [podcast]="selected"></app-podcast-detail>
        </div>
        <div class="modal fade"
             role="document"
             bsModal
             #podcastDeleteDialog="bs-modal"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="block block-themed block-transparent mb-0">
                        <div class="block-header bg-primary-dark">
                            <h3 class="block-title">Delete this podcast?</h3>
                            <div class="block-options">
                                <button type="button" class="btn-block-option" data-dismiss="modal" aria-label="Close" (click)="podcastDeleteDialog.hide()">
                                    <i class="icon icon-close"></i>
                                </button>
                            </div>
                        </div>
                        <div class="block-content">
                            <h3 class="mb-20">This operation cannot be undone!</h3>
                            <div class="container-fluid cxt-padded bg-faded">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-2 text-md-left text-center">
                                            <img class="modal-podcast-image rounded-circle" [src]="selected.imageUrl" alt="Generic placeholder image">
                                        </div>
                                        <div class="col-md-10 text-md-left text-center font-w600">
                                            {{selected.title}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-20">Deleting this podcast will delete all associated entries and audio with no opportunity to get them back.
                            It will also be removed from any podcast applications subscribed to this feed..
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-alt-secondary" data-dismiss="modal" (click)="podcastDeleteDialog.hide()">No</button>
                            <button type="button" class="btn btn-alt-success" data-dismiss="modal" (click)="deletePodcast(selected); podcastDeleteDialog.hide()">
                                <i class="fa fa-check"></i> Yes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
